#
# These options are applied to all spells by default.
#
default:
    effects:
       fail:
       - class: EffectSingle
         location: origin
         sound: block_note_basedrum
         sound_volume: 0.8
         sound_pitch: 1.2
       insufficient_resources:
       - class: EffectSingle
         location: origin
         sound: ui_button_click
         sound_volume: 0.7
         sound_pitch: 2
       insufficient_permission:
       - class: EffectSingle
         location: origin
         sound: block_note_bass
         sound_volume: 0.9
         sound_pitch: 1.5
       cursed:
       - class: EffectSingle
         location: origin
         entity_effect: hurt
       backfire:
       - class: EffectSingle
         location: origin
         entity_effect: hurt
       blocked:
       - class: EffectSingle
         location: origin
         entity_effect: hurt
       upgrade:
       - class: EffectSingle
         location: origin
         sound: entity_player_levelup
         firework: ball_large
       progress:
       - class: EffectSingle
         location: origin
         sound: entity_player_levelup
         firework: ball_large
       break:
       - class: EffectSingle
         location: target
         effect: step_sound
       earn_sp:
       - class: EffectSingle
         location: origin
         sound: entity_player_levelup
         sound_volume: 0.6
         sound_pitch: 0.75
       - class: EffectSingle
         location: origin
         sound: entity_experience_orb_pickup
         sound_volume: 0.4
         sound_pitch: 1.5
       earn_scaled_sp:
       - class: EffectSingle
         location: origin
         sound: entity_experience_orb_pickup
         sound_volume: 0.6
         sound_pitch: 1.5
       reflect:
       - class: EffectSingle
         location: target
         particle: fireworks_spark
         particle_count: 3
         particle_offset_x: 0.1
         particle_offset_y: 0.1
         particle_offset_z: 0.1
         sound: war.ricochet
       cast_self: cast
       no_target: cast
       no_action: cast
       alternate: cast
       alternate_up: cast
       alternate_down: cast
       alternate_sneak: cast
       fizzle: fail
       cancelled: fail
       entity_required: fail
       living_entity_required: fail
       player_required: fail
       location_required: fail
       world_required: fail
       invalid_world: fail

incremental_reload:
  icon: sulphur
  actions:
    cast:
    - class: Repeat
      actions:
      - class: CheckMana
        actions:
        - class: PlayEffects
        - class: Delay
        - class: ModifyMana
  parameters:
    effects: reload
    cancel_on_cast_other: true
    require_mana_not_full: true

full_reload:
  icon: sulphur
  actions:
    cast:
    - class: CheckMana
      actions:
      - class: Repeat
        actions:
          - class: PlayEffects
          - class: Delay
      - class: ModifyMana
  parameters:
    effects: reload
    cancel_on_cast_other: true
    require_mana_not_full: true
    fill_mana: true

reload_sniper:
  inherit: incremental_reload
  effects:
    reload:
    - sound: war.sniperrifle-reload
  parameters:
    repeat: 3
    delay: 1000

sniper:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: ChangeContext
          target_caster: true
          ignore_result: true
          actions:
          - class: PotionEffect
          - class: Wear
            item: pumpkin
        - class: Delay
        - class: Retarget
        - class: PlayEffects
          effect: launch
        - class: CustomProjectile
          actions:
          - class: Damage
          - class: ModifyBlock
            ignore_result: true
    effects:
        launch:
        -  class: EffectSingle
           sound: war.sniperrifle
           sound_pitch: 0.7
           location: origin
           effectlib:
             class: VortexEffect
             iterations: 100
             particle: smoke_normal
             radius: 0.2
             grow: 0.5
             updateLocations: false
             updateDirections: false
        tick:
        - particle: fireworks_spark
          location: target
        - particle: redstone
          location: target
          color: "#666600"
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: block_crack
           material: redstone_block
           particle_count: 40
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
        hit:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 20
           particle_offset_x: 0.4
           particle_offset_y: 0.5
           particle_offset_z: 0.4
           particle_data: 0.4
           sound: magic.zap
           sound_pitch: 1.2
           sound_volume: 0.5
        hit_block:
        -  class: EffectSingle
           effect: step_sound
           location: target
           sample: target
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 50
           particle_offset_x: 0.8
           particle_offset_y: 1
           particle_offset_z: 0.8
        headshot:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 15
           particle_offset_y: 0.5
           particle_offset_x: 0.5
           particle_offset_z: 0.5
           sound: magic.zap
           sound_volume: .3
           particle_data: 0.4
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 100
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 20
            material: redstone_block
            size: 0.4
            yOffset: 0
    headshot_parameters:
      player_damage: 20
      entity_damage: 30
    parameters:
        mage_cooldown: 1000
        velocity: 3000
        range: 100
        effect_slow: 20
        hitbox: true
        entity_hit_count: 5
        block_hit_count: 4
        duration: 2000
        undo: 1200
        delay: 1000
        hitbox: true
        player_damage: 8
        entity_damage: 10
        target_breakables: 1
        destructible: solid
        destructible_durability: 100
        brush: erase
        magic_damage: false
    costs:
      mana: 1

reload_ak47:
  inherit: full_reload
  effects:
    reload:
    - sound: war.ak47-reload
  parameters:
    delay: 700
    repeat: 4

ak47:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
          - class: BreakBlock
            ignore_result: true
    effects:
        cast:
        -  class: EffectSingle
           sound: war.ak47
           location: origin
        tick:
        - particle: smoke_normal
          location: target
          particle_count: 3
          particle_offset_x: 0.1
          particle_offset_y: 0.1
          particle_offset_z: 0.1
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: block_crack
           material: redstone_block
           particle_count: 40
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
        hit:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 10
           particle_offset_x: 0.2
           particle_offset_y: 0.3
           particle_offset_z: 0.2
           particle_data: 0.2
        break:
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 50
           particle_offset_x: 1.5
           particle_offset_y: 1
           particle_offset_z: 1.5
        hit_block:
        -  class: EffectSingle
           effect: step_sound
           location: target
           sample: target
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 20
           particle_offset_x: 0.8
           particle_offset_y: 1
           particle_offset_z: 0.8
        headshot:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 15
           particle_offset_y: 0.5
           particle_offset_x: 0.5
           particle_offset_z: 0.5
           particle_data: 0.4
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 50
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 20
            material: redstone_block
            size: 0.3
            yOffset: 0
    headshot_parameters:
      player_damage: 4
      entity_damage: 8
    parameters:
        velocity: 2000
        range: 60
        hitbox: true
        player_damage: 3
        entity_damage: 6
        target_breakables: 1
        destructible: solid
        destructible_durability: 4
        break_durability: 2
        undo: 30000
        spread: 0.1
        magic_damage: false
    costs:
      mana: 1

reload_pistol:
  inherit: incremental_reload
  effects:
    reload:
    - sound: war.deserteagle-reload
  parameters:
    delay: 200
    repeat: 10
    mana: 2

pistol:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
          - class: BreakBlock
            ignore_result: true
    effects:
        cast:
        -  class: EffectSingle
           sound: war.deserteagle
           sound_pitch: 1.2
           location: origin
        tick:
        - particle: smoke_normal
          location: target
          particle_count: 3
          particle_offset_x: 0.1
          particle_offset_y: 0.1
          particle_offset_z: 0.1
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: block_crack
           material: redstone_block
           particle_count: 40
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
        hit:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 10
           particle_offset_x: 0.2
           particle_offset_y: 0.3
           particle_offset_z: 0.2
           particle_data: 0.2
        break:
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 50
           particle_offset_x: 1.5
           particle_offset_y: 1
           particle_offset_z: 1.5
        hit_block:
        -  class: EffectSingle
           effect: step_sound
           location: target
           sample: target
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 20
           particle_offset_x: 0.8
           particle_offset_y: 1
           particle_offset_z: 0.8
        headshot:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 15
           particle_offset_y: 0.5
           particle_offset_x: 0.5
           particle_offset_z: 0.5
           particle_data: 0.4
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 50
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 20
            material: redstone_block
            size: 0.3
            yOffset: 0
    headshot_parameters:
      player_damage: 8
      entity_damage: 16
    parameters:
        velocity: 1500
        range: 40
        hitbox: true
        player_damage: 2
        entity_damage: 4
        target_breakables: 1
        destructible: solid
        destructible_durability: 9
        undo: 30000
        cooldown: 500
        magic_damage: false
    costs:
      mana: 1

reload_shotgun:
  inherit: incremental_reload
  effects:
    reload:
    - sound: war.shotgun-reload
  parameters:
    delay: 1000
    repeat: 6

shotgun:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: Multiply
          actions:
          - class: CustomProjectile
            actions:
            - class: Damage
            - class: Velocity
            - class: BreakBlock
              ignore_result: true
    effects:
        cast:
        -  class: EffectSingle
           sound: war.shotgun
           sound_pitch: 1.2
           location: origin
        tick:
        - particle: redstone
          color: "#888888"
          location: target
          particle_count: 2
          particle_offset_x: 0.1
          particle_offset_y: 0.1
          particle_offset_z: 0.1
        hit_entity:
        -  class: EffectSingle
           location: target
           particle: block_crack
           material: redstone_block
           particle_count: 40
           particle_offset_x: 0.3
           particle_offset_y: 0.3
           particle_offset_z: 0.3
        hit:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 10
           particle_offset_x: 0.2
           particle_offset_y: 0.3
           particle_offset_z: 0.2
           particle_data: 0.2
        break:
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 50
           particle_offset_x: 1.5
           particle_offset_y: 1
           particle_offset_z: 1.5
        hit_block:
        -  class: EffectSingle
           effect: step_sound
           location: target
           sample: target
        -  class: EffectSingle
           location: target
           sample: target
           particle: block_crack
           particle_count: 20
           particle_offset_x: 0.8
           particle_offset_y: 1
           particle_offset_z: 0.8
        headshot:
        -  class: EffectSingle
           location: target
           particle: fireworks_spark
           particle_count: 15
           particle_offset_y: 0.5
           particle_offset_x: 0.5
           particle_offset_z: 0.5
           particle_data: 0.4
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 50
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 20
            material: redstone_block
            size: 0.3
            yOffset: 0
    headshot_parameters:
      player_damage: 8
      entity_damage: 16
    parameters:
        velocity: 1500
        spread: 0.2
        range: 20
        multiply: 8
        hitbox: true
        player_damage: 2
        entity_damage: 4
        target_breakables: 1
        destructible: solid
        destructible_durability: 50
        break_durability: 5
        undo: 30000
        cooldown: 800
        undo_speed: 0.4
        speed: 1
        y_offset: 0.75
        magic_damage: false
    costs:
      mana: 1

reload_rocketlauncher:
  inherit: full_reload
  effects:
    reload:
    - sound: war.rocketlauncher-reload
  parameters:
    repeat: 5
    delay: 1000

rocketlauncher:
    icon: ghast_tear
    icon_url: http://textures.minecraft.net/texture/2ba95570c7b712713632d4c0d2fc66906613d3850a596a0267c6d763fe741ac
    category: combat
    worth: 9999
    actions:
        cast:
        - class: CustomProjectile
          actions:
          - class: Damage
            damage_max_distance: 0
            player_damage: 8
            entity_damage: 10
          - class: AreaOfEffect
            actions:
            - class: Damage
            - class: Velocity
              speed: 1.5
          - class: Sphere
            actions:
            - class: ModifyBlock
              ignore_result: true
          - class: Sphere
            radius: 4
            thickness: 1
            center_y: false
            y_size: 2
            actions:
            - class: Recurse
              actions:
              - class: ModifyBlock
                ignore_result: true
                speed: 0
                direction: ""
    effects:
        cast:
        -  class: EffectSingle
           sound: war.rocketlauncher
           sound_pitch: 1.2
           location: origin
        tick:
        - location: target
          particle: smoke_large
          particle_count: 4
          particle_offset_x: 0.2
          particle_offset_y: 0.2
          particle_offset_z: 0.2
        projectile:
        - class: EffectSingle
          effectlib:
             class: SphereEffect
             particle: redstone
             color: "FF0000"
             iterations: 100
             radius: 0.3
        hit_entity:
        -  class: EffectSingle
           sound: entity_slime_attack
           sound_pitch: 0.8
           location: target
           effectlib:
            class: AnimatedBallEffect
            particles: 50
            particlesPerIteration: 8
            iterations: 15
            particle: block_crack
            particleCount: 30
            material: redstone_block
            size: 1
            yOffset: 0
        hit:
        -  class: EffectSingle
           location: target
           sound: entity_generic_explode
           particle: explosion_huge
           particle_count: 4
           particle_offset_x: 2
           particle_offset_y: 2
           particle_offset_z: 2
           particle_data: 0.2
    parameters:
        velocity: 20
        range: 60
        hitbox: true
        radius: 3
        target_type: LivingEntity
        damage_max_distance: 5
        player_damage: 15
        entity_damage: 15
        target_breakables: 1
        bypass_backfire: true
        destructible: solid
        destructible_durability: 40
        undo: 30000
        brush: erase
        cooldown: 5000
        speed: 1.1
        direction: 0,0.8,0
        falling: true
        undo_speed: 0.8
        target_self_timeout: 2000
        y_offset: 0.75
        push: 1
        velocity_max_distance: 5
        magic_damage: false
        faces: up
        recursion_depth: 128
    costs:
      mana: 1

thruster:
    icon: feather
    icon_url: http://textures.minecraft.net/texture/7cc2fb583d1762a16a50fa5ac37bc09b46def63e68205116d650391f9233ed
    category: utility
    worth: 400
    actions:
        cast:
        - class: Velocity
        - class: FallProtection
    effects:
        cast:
        -  class: EffectSingle
           effectlib:
             class: ConeEffect
             iterations: 10
             particle: spell
             pitchOffset: 180
        land:
        -  sound: block_stone_step
           sound_pitch: 0.7
        -  class: EffectRing
           particle: block_crack
           source_location: feet
           period: 4
           particle_count: 80
           radius: 4
           particle_offset_x: 0.9
           particle_offset_z: 0.9
           particle_offset_y: 0.1
    parameters:
        duration: 10000
        target: self
        speed: 0.5
        additive: true
        max_magnitude: 2

radar:
    icon: compass
    icon_url: http://textures.minecraft.net/texture/3bc9de58822a3f7c6c23e212cf954fc728a6b2e45c54a89b4af5e453d39b1
    category: utility
    worth: 50
    actions:
        cast:
         -  class: Orient
         -  class: PotionEffect
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.zap
           location: origin
        -  class: EffectSingle
           location: target
           effectlib:
               class: LineEffect
               particle: redstone
    alternate_sneak_parameters:
        target_type: Player
    parameters:
        range: 128
        fov: 3
        close_fov: 3
        fov_weight: 400
        player_weight: 500
        target: other_entity
        target_type: LivingEntity
        cooldown: 5000
        ignore_blocks: true
        loud: true
        bypass_pvp: true
        effect_glowing: 1
        duration: 10000

incendiary:
     icon: tnt
     icon_url: http://textures.minecraft.net/texture/c6a7fcfee0ffebae25b69bd16f55c993898ba72791d3a89e58736e7bad0faa3
     category: demolition
     pvp_restricted: true
     worth: 300
     actions:
         cast:
         -  class: TNT
     effects:
         cast:
         -  class: EffectSingle
            sound: block_lava_pop
     parameters:
         target: none
         allow_max_range: true
         range: 32
         size: 3
         fire: true
         fuse: 60
         undo: 20000
         cooldown: 500
         undo_speed: 0.5

flash_bang:
    icon: eye_of_ender
    icon_url: http://textures.minecraft.net/texture/964590674dbaf76126bd87694bfe97575be8de19aac4a8d9aa5579f8f01ed1
    category: combat
    pvp_restricted: true
    worth: 50
    actions:
        cast:
        - class: ThrowItem
          actions:
          - class: AreaOfEffect
            actions:
            - class: PotionEffect
    effects:
        cast:
        -  class: EffectSingle
           sound: magic.bonk
           sound_pitch: 0.2
           sound_volume: 0.3
           location: origin
        hit:
        -  class: EffectSingle
           location: target
           color: CC9933
           firework: burst
           sound: war.flashbang
           effectlib:
             class: SphereEffect
             iterations: 70
             period: .1
             particle: redstone
             color: 0A2A0A
             radius: 5
             particles: 20
        projectile:
        -  class: EffectSingle
           location: origin
           effectlib:
             class: SphereEffect
             iterations: 64
             particle: smoke_normal
             radius: 1
             particles: 20
    parameters:
      target: none
      brush: eye_of_ender
      undo: 10000
      duration: 8000
      effect_blindness: 1
      effect_night_vision: 1
      radius: 5
      target_self: true
      cooldown: 500
      speed: 1
      age_items: 5960

