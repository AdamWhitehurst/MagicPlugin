worm:
    hidden: true
    icon: diamond_axe:16
    icon_disabled: diamond_hoe:16
    icon_url: http://textures.minecraft.net/texture/744e11fddeff88dd749ae5ff8fe80f46b9f659817d43d673e4af3759d59ae0
    category: automata
    class: AnimateSpell
    worth: 8000
    effects:
        cast:
        -  class: EffectSingle
           sound: entity_slime_attack
        -  class: EffectTrail
           particle: block_crack
    levels:
        1: 100
        3: 40
        5: 10
    move: 4,5,6
    radius: 6,8,10
    yradius: 6,8,10
    birth_range: 6,8,10
    live_range: 16,20,28
    delay: 1800,1500,1200
    drop_xp: 75,100,125
    death_cast:
        "worm_death target self radius 10 undo_speed 5 speed -0^2 destructible $birth,command,redstone_block check_destructible true": 100,100,100
        "worm_death target self radius 12 undo_speed 5 speed -0^2 destructible $birth,command,redstone_block check_destructible true": 20,50,200
    cast:
        "blob brush stained_glass:15 radius 3 type sphere check_destructible true undo 5000 transparent air,$birth,redstone_block,command": 20,80,90
        "curse transparent air,$birth,redstone_block,command": 80,90,100
        "shrink transparent air,$birth,command,redstone_block": 30,50,70
        "push transparent air,$birth,redstone_block,command": 20,40,60
        "fury transparent air,$birth,redstone_block,command": 30,50,70
        "torture|2 transparent air,$birth,redstone_block,command": 10,20,40
        "homing|3 transparent air,$birth,redstone_block,command": 20,30,50
        "missile|3 transparent air,$birth,redstone_block,command": 100,150,250
        "shell brush stained_glass:15 radius 3 type sphere check_destructible true undo 7000 transparent air,$birth,redstone_block,command": 20,40,80
        "none": 20,10,5
    parameters:
        allow_max_range: false
        transparent: transparent_to_construction
        check_destructible: false
        range: 32
        cooldown: 60000
        name: Worm
        target_min_range: 3
        target_max_range: 128
        delay: 1500
        target_mode: hunt
        targets: mage
        birth_rules: 1,2,3,4,5,6,7
        diagonal_birth_rules: 0,1,2,3
        live_rules: 1,2,3,4,5,6,7
        diagonal_live_rules: 0,1,2,3
        concurrent: true
        drops:
        - wormheart
        - sp:50
        - gold_ingot
        move: 4
        restricted: restricted_animate
        message_type: evil
        undo: 20000
        undo_speed: 10
        reflect_chance: 0.9
    costs:
        xp: 250

worm_death:
    name: Death
    hidden: true
    actions:
        cast:
        - class: Sphere
          actions:
           - class: ModifyBlock
    effects:
        hit:
        -  class: EffectSingle
           location: target
           target_offset: 0,0.5,0
           sound: entity_slime_death
           color: FACC2E
           firework: burst
           effectlib:
             class: HelixEffect
             iterations: 1
             radius: $radius
             particle: falling_dust
    parameters:
        brush: air
        falling: true
        radius: 2
        undo: 10000
        undo_speed: 1
