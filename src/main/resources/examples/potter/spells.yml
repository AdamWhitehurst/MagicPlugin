#
# Harry Potter Canon Spells
#
# With help from: http://harrypotterspells.net
#    and http://harrypotter.wikia.com/wiki/List_of_spells
#

default:
    effects:
       target_selected:
       - class: EffectSingle
         location: origin
         sound: anvil_use
       - class: EffectSingle
         location: target
         particle: happy_villager
         particle_offset_x: 0.5
         particle_offset_y: 0.5
         particle_offset_z: 0.5
       - class: EffectTrail
         particle: water_dripping
       fail:
       - class: EffectSingle
         location: origin
         sound: note_bass_drum
         sound_volume: 0.8
         sound_pitch: 1.2
       insufficient_resources:
       - class: EffectSingle
         location: origin
         sound: note_bass
         sound_volume: 0.7
         sound_pitch: 1.2
       insufficient_permission:
       - class: EffectSingle
         location: origin
         sound: note_bass
         sound_volume: 0.9
         sound_pitch: 1.5
       cooldown:
       - class: EffectSingle
         location: origin
         sound: note_bass_drum
         sound_volume: 0.6
         sound_pitch: 0.8
       no_target:
       - class: EffectSingle
         location: origin
         sound: note_bass_drum
         sound_volume: 0.4
         sound_pitch: 0.8
       cursed:
       - class: EffectSingle
         location: origin
         entity_effect: hurt

accio:
    icon: ink_sack:6
    category: year1
    class: PushSpell
    pvp_restricted: true
    worth: 10
    effects:
        cast:
        -  class: EffectSingle
           sound: fizz
        -  class: EffectTrail
           particle: spell
           reverse: true
           length: 16
           particle_count: 6
        area:
        -  class: EffectSingle
           sound: fizz
           effectlib:
             class: VortexLocationEffect
             particle: spell
    parameters:
        target_type: Entity
        range: 32
        allow_area: false
        item_force: 2
        area_range: 20
        entity_force: 1
        cast_on_no_target: true
        type: pull
        count: 1
    costs:
        xp: 15

aguamenti:
    icon: stationary_water
    category: year2
    class: IterateSpell
    pvp_restricted: false
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           sound: water
    parameters:
        target_type: LivingEntity
        transparent: transparent_to_construction
        allow_max_range: true
        range: 8
        size: 4
        brush: water
        increment_data: true
        undo: 2000
    costs:
        xp: 50

apparate:
    icon: eye_of_ender
    category: year7
    class: BlinkSpell
    worth: 120
    effects:
        cast:
        -  class: EffectSingle
           sound: enderman_teleport
           location: both
           effectlib:
             class: AtomLocationEffect
             particleNucleus: smoke
             particleOrbital: large_smoke
             iterations: 20
        -  class: EffectSingle
           effectlib:
             class: LineLocationEffect
             particle: large_smoke
    parameters:
        pvp_restricted: true
        allow_max_range: false
        allow_ascend: true
        allow_passthrough: true
        prevent_passthrough: indestructible
        range: 64
        passthrough_range: 4
        allow_decend: true
        transparent: passthrough
    costs:
        xp: 60

araniaexumai:
    icon: web
    category: year1
    class: PushSpell
    pvp_restricted: true
    worth: 15
    effects:
        cast:
        -  class: EffectSingle
           sound: fizz
           effectlib:
             class: ConeLocationEffect
             iterations: 16
             particle: spell
        area:
        -  class: EffectSingle
           sound: fizz
           effectlib:
             class: VortexLocationEffect
             particle: witch_magic
    parameters:
        target_type: Spider
        range: 32
        allow_area: false
        item_force: 2
        area_range: 20
        entity_force: 2
        cast_on_no_target: true
        type: push
        count: 8
        damage: 3
    costs:
        xp: 10

arrow:
    icon: arrow
    category: year1
    class: ProjectileSpell
    pvp_restricted: true
    worth: 2
    effects:
        cast:
        -  class: EffectSingle
           sound: shoot_arrow
           location: origin
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
             iterations: 8
    parameters:
      projectile: Arrow
      damage: 3
      speed: 3
      spread: 6
      fire: false
      tick_increase: 1180
    costs:
        xp: 10

ascendio:
    icon: ink_sack:8
    category: year6
    class: FlingSpell
    worth: 80
    pvp_restricted: true
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_volume: 1.1
           effectlib:
             class: TraceEntityEffect
             iterations: 30
             particle: spell
        land:
        -  class: EffectRing
           particle: spell
           period: 2
    parameters:
    costs:
        xp: 45

arresto:
    icon: ink_sack:8
    category: year1
    class: FlingSpell
    worth: 20
    pvp_restricted: false
    effects:
        cast:
        -  class: EffectSingle
           sound: horse_saddle
           sound_volume: 1.1
           effectlib:
             class: ShieldEntityEffect
             iterations: 10
             particle: spell
        land:
        -  class: EffectRing
           effect: step_sound
           period: 2
    parameters:
        min_speed: 0
        max_speed: 0
    costs:
        xp: 20

atmos:
    icon: water
    category: year5
    class: WeatherSpell
    worth: 80
    effects:
        cast:
        -  class: EffectSingle
           sound: ambience_rain
           effectlib:
             class: HelixLocationEffect
             iterations: 12
             particle: water_dripping
        area:
        -  class: EffectSingle
           sound: ambience_thunder
           effectlib:
             class: HelixLocationEffect
             iterations: 24
             particle: water_dripping
    parameters:
        cooldown: 30000
    costs:
        xp: 80

broom:
    icon: blaze_rod
    category: specialty
    class: LevitateSpell
    pvp_restricted: true
    worth: 50
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_volume: 1.1
        -  class: EffectSingle
           effectlib:
             class: TraceEntityEffect
             iterations: 30
             particle: spell
        crash:
        -  class: EffectSingle
           location: origin
           entity_effect: hurt
           particle: large_explosion
        -  class: EffectSingle
           location: origin
           effectlib:
             class: SmokeEntityEffect
             iterations: 12
        area:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_volume: 1.1
           effectlib:
             class: TraceEntityEffect
             iterations: 30
             particle: spell
        -  class: EffectSingle
           particle: spell
           effectlib:
             class: ShieldEntityEffect
             iterations: 30
             particle: spell
        land:
        -  class: EffectRing
           effect: step_sound
           period: 2
    parameters:
        thrust: 0.8
        boost: 1
        boost_ticks: 10
        auto_deactivate: 3
        auto_deactivate_ticks: 10
        slow: 0.2
        start_delay: 20
        crash_distance: 0.5
        effect_confusion: 120,2
        bypass_deactivate: true
    costs:
        xp: 10

avadakedavra:
    icon: ink_sack:10
    category: unforgiveable
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 1000
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_death
           location: target
        -  class: EffectSingle
           location: target
           effectlib:
             class: AtomLocationEffect
             iterations: 32
             particleNucleus: slime
        -  class: EffectSingle
           location: origin
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: happy_villager
             lenghtGrow: 0.4
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
             iterations: 50
    parameters:
        target_type: LivingEntity
        allow_max_range: false
        range: 16
        target: other_entity
        damage: 100
        check_destructible: false
        cast_on_no_target: true
        cooldown: 30000
    costs:
        xp: 100

avadamaxima:
    icon: ink_sack:10
    category: unforgiveable
    class: CommandSpell
    pvp_restricted: true
    worth: 1000
    effects:
        cast:
        -  class: EffectSingle
           sound: ambience_thunder
           location: target
           effectlib:
             class: AtomLocationEffect
             iterations: 32
             particleNucleus: slime
        -  class: EffectSingle
           location: origin
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: slime
             lenghtGrow: 0.4
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
             iterations: 50
    parameters:
        commands:
        - ban @t Avada Kadavra
        - say §aAvada Kadavra §c@t!
        target_type: Player
        target: other
        range: 16
        cooldown: 30000
    costs:
        xp: 300

avis:
    icon: monster_egg
    category: year3
    class: FamiliarSpell
    worth: 20
    effects:
        cast:
        -  class: EffectSingle
           sound: chicken_egg_pop
           effectlib:
             class: DnaLocationEffect
             particleHelix: lava_dripping
             iterations: 24
             particle: bubble
        -  class: EffectSingle
           location: target
           effectlib:
             class: AtomLocationEffect
             iterations: 32
             particle: bubble
    parameters:
        allow_max_range: true
        range: 2
        cooldown: 5000
        type: chicken
        baby: true
        count: 3
        reason: custom
    costs:
        xp: 50

beat:
    icon: stick
    category: specialty
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 10
    effects:
        cast:
        -  class: EffectSingle
           sound: burp
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: town_aura
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
    costs:
        xp: 2
    parameters:
        fov: 2
        range: 8
        deactivate_target_mage: true
        target_type: LivingEntity
        cast_on_no_target: true
        target: other
        duration: 5000
        damage: 1
        effect_confusion: 5

bombarda:
    icon: ink_sack:7
    category: year2
    class: BoomSpell
    pvp_restricted: true
    worth: 40
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_hit
           location: target
        -  class: EffectSingle
           location: target
           firework: burst
           color: 'FF0000'
           color2: 'FF0088'
    parameters:
        target_type: LivingEntity
        allow_max_range: true
        range: 16
        break_blocks: false
        size: 1
    costs:
        xp: 35

bombardamaxima:
    icon: ink_sack:7
    category: year4
    class: BoomSpell
    pvp_restricted: true
    worth: 100
    effects:
        cast:
        -  class: EffectSingle
           sound: explode
        -  class: EffectTrail
           firework: burst
           color: 'FF0000'
           color2: 'FF0088'
    parameters:
        target_type: LivingEntity
        allow_max_range: true
        range: 24
        size: 3
        break_blocks: false
    costs:
        xp: 50

camera:
    icon: tripwire_hook
    category: specialty
    class: CameraSpell
    worth: 8
    effects:
        cast:
        -  class: EffectSingle
           effect: smoke
           sound: fuse
           location: origin
    parameters:
        target_type: LivingEntity
        target_npc: true
        cooldown: 5000
        allow_max_range: false
        range: 32
    costs:
        xp: 5

confringo:
    icon: flint_and_steel
    category: year5
    class: BoomSpell
    pvp_restricted: true
    worth: 50
    effects:
        cast:
        -  class: EffectSingle
           sound: ghast_fireball
        -  class: EffectSingle
           location: target
           effectlib:
             class: HelixLocationEffect
             particle: flame
    parameters:
        target_type: Item
        target: other_entity
        range: 16
        size: 1
        fire: true
        break_blocks: false
        undo: 10000
    costs:
        xp: 75

confundus:
    icon: rotten_flesh
    category: year2
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 10
    effects:
        cast:
        -  class: EffectSingle
           sound: burp
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: town_aura
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
    costs:
        xp: 30
    parameters:
        range: 32
        deactivate_target_mage: true
        target_type: LivingEntity
        cast_on_no_target: true
        target: other
        duration: 8000
        effect_confusion: 5

conjunctivitis:
    icon: ender_pearl
    category: year2
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 10
    effects:
        cast:
        -  class: EffectSingle
           sound: burp
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: town_aura
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
    costs:
        xp: 25
    parameters:
        range: 32
        target_type: LivingEntity
        target: other
        duration: 3000
        effect_blindness: 5
        cast_on_no_target: true

crucio:
    icon: nether_stalk
    category: unforgiveable
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 300
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_idle
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: mob_spell
             lenghtGrow: 0.3
        -  class: EffectSingle
           particle: town_aura
           location: target
           effectlib:
             class: BleedEntityEffect
             duration: 500
    costs:
        xp: 90
    parameters:
        range: 32
        target_type: LivingEntity
        target: other
        duration: 5000
        effect_wither: 8
        cooldown: 9000

deletrius:
    icon: enchanted_book
    category: year7
    class: CommitSpell
    worth: 150
    effects:
        cast:
        -  class: EffectSingle
           sound: anvil_use
    parameters:
        target: self
    costs:
        xp: 100

diffindo:
    icon: iron_plate
    category: year6
    class: ConstructSpell
    worth: 80
    effects:
        cast:
        -  class: EffectSingle
           sound: explode
        -  class: EffectTrail
           particle: large_explosion
    parameters:
        allow_max_range: false
        range: 16
        brush: air
        falling: true
        check_destructible: false
        indestructible: air
        radius: 2
        transparent: transparent_to_construction
        undo: 5000
    costs:
        xp: 70

duro:
    icon: stone
    category: year4
    class: RecurseSpell
    worth: 150
    effects:
        cast:
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 16
        size: 8
        check_destructible: false
        brush: stone
        transparent: transparent_to_construction
        undo: 3000
    costs:
        xp: 65

evanesco:
    icon: bone
    category: year4
    pvp_restricted: true
    class: DisintegrateSpell
    worth: 25
    effects:
        cast:
        -  class: EffectSingle
           sound: magmacube_jump
        -  class: EffectTrail
           particle: lava_dripping
           particle_data: 1
    parameters:
        target: other
        target_type: Item
        allow_max_range: false
        range: 8
        entity_damage: 50
        check_destructible: true
        cast_on_no_target: true
    costs:
        xp: 60

expelliarmus:
    icon: ink_sack:1
    category: year2
    class: DisarmSpell
    pvp_restricted: true
    worth: 110
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_shoot
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: red_dust
             lenghtGrow: 0.5
        -  class: EffectSingle
           target_offset: 0,1.5,0
           location: target
           color: FF0000
           firework: ball
        backfire:
        -  class: EffectSingle
           sound: hurt_flesh
        -  class: EffectRing
           particle: red_dust
           location: self
        fizzle:
        -  class: EffectSingle
           sound: explode
        -  class: EffectRing
           particle: red_dust
           location: self
    parameters:
        target_type: LivingEntity
        allow_max_range: false
        range: 25
        fov: 0.12
        fizzle_chance: 0
        backfire_chance: 0
        cast_on_no_target: true
        keep_in_inventory: true
    costs:
        xp: 80

rennervate:
    icon: ink_sack:9
    category: year2
    class: PotionEffectSpell
    worth: 20
    effects:
        cast:
        -  class: EffectSingle
           sound: orb_pickup
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: happy_villager
    parameters:
        target_type: LivingEntity
        target: any
        allow_max_range: false
        range: 16
        bypass_confusion: true
        remove_effects:
        - confusion
        - slow
        - blindness
        - weakness
        - poison
        - wither
        cooldown: 2000
    costs:
        xp: 10

episkey:
    icon: ink_sack:9
    category: year2
    class: HealSpell
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           sound: orb_pickup
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: heart
        -  class: EffectSingle
           location: target
           effectlib:
             class: LoveEntityEffect
             iterations: 10
             period: 2
    parameters:
        target_type: LivingEntity
        target: any
        allow_max_range: false
        range: 16
        feed: true
        cure: false
        percentage: 0.2
        cooldown: 2000
    costs:
        xp: 15

ferula:
    icon: ink_sack:9
    category: year3
    class: PotionEffectSpell
    worth: 50
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
           effectlib:
             class: ConeLocationEffect
             iterations: 10
             particle: heart
        -  class: EffectSingle
           location: target
           effectlib:
             class: LoveEntityEffect
             iterations: 10
             period: 8
    parameters:
        target_type: LivingEntity
        target: any
        allow_max_range: false
        range: 16
        cooldown: 5000
        duration: 5000
        effect_regeneration: 1
        effect_absorption: 1
        effect_saturation: 1
        effect_slow: 2

    costs:
        xp: 50

floo:
    icon: sulphur
    category: specialty
    class: PotionEffectSpell
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           sound: fire_ignite
           location: target
           effectlib:
             class: ShieldEntityEffect
             iterations: 200
             period: 2
             particles: 8
             particle: flame
    parameters:
        target: self
        duration: 20000
        effect_fire_resistance: 100
        cooldown: 30000

finiteincantatem:
    icon: ink_sack:13
    category: year3
    class: UndoSpell
    worth: 250
    effects:
        cast:
        -  class: EffectSingle
           sound: irongolem_hit
        -  class: EffectTrail
           particle: smoke
    parameters:
        allow_max_range: false
        target: other
        target_type: LivingEntity
        target_blocks: false
        target_timeout: 30000
        range: 32
        bypass_protection: true
        cast_on_no_target: true
        cooldown: 4000
    costs:
        xp: 45

flagrate:
    icon: ink_sack:14
    category: year1
    class: GenericSpell
    worth: 20
    effects:
        cast:
        -  class: EffectSingle
           sound: fizz
        -  class: EffectTrail
           particle: flame
        -  class: EffectSingle
           location: target
           target_offset: 0,3,0
           effectlib:
             class: TextLocationEffect
             text: $name
             iterations: 2
             particle: flame
    parameters:
        allow_max_range: true
        range: 3
        cooldown: 10000
        transparent: transparent_to_construction
    costs:
        xp: 20

flipendo:
    icon: ink_sack:5
    category: year1
    class: PushSpell
    pvp_restricted: true
    worth: 15
    effects:
        cast:
        -  class: EffectSingle
           sound: irongolem_hit
           effectlib:
             class: ConeLocationEffect
             iterations: 16
             particle: spell
        area:
        -  class: EffectSingle
           sound: fizz
           effectlib:
             class: VortexLocationEffect
             particle: spell
    parameters:
        target_type: Entity
        range: 32
        allow_area: false
        item_force: 2
        area_range: 20
        entity_force: 1
        cast_on_no_target: true
        type: push
        count: 1
        damage: 0.5
        cooldown: 1500
    costs:
        xp: 15

fly:
    icon: feather
    category: staff
    class: LevitateSpell
    worth: 600
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
           effectlib:
             class: ShieldEntityEffect
             particle: smoke
        cost_free:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_pitch: 0.2
        land:
        -  class: EffectRing
           effect: step_sound
           period: 2
    parameters:
        speed: 2
        pvp_restricted: true
    costs:
        xp: 100
    active_costs:
        xp: 10

immobulus:
    icon: web
    category: year3
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           sound: burp
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: town_aura
        -  class: EffectSingle
           particle: town_aura
           location: target
           effectlib:
             class: SmokeEntityEffect
    costs:
        xp: 25
    parameters:
        range: 32
        target_type: LivingEntity
        target: other
        cast_on_no_target: true
        duration: 5000
        effect_slow: 20

imperio:
    icon: leash
    category: unforgiveable
    class: ForceSpell
    pvp_restricted: true
    worth: 200
    effects:
        cast:
        -  class: EffectSingle
           sound: portal_trigger
        -  class: EffectTrail
           particle: spell
           length: 16
    parameters:
        target_type: LivingEntity
        target: other_entity
        range: 32
        item_force: 1
        entity_force: 1
        cast_on_no_target: true
    costs:
        xp: 85

imperiomaxima:
    icon: leash
    category: unforgiveable
    class: com.elmakers.mine.bukkit.potterspells.spell.ImperioSpell
    pvp_restricted: true
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: portal_trigger
        -  class: EffectTrail
           particle: spell
           length: 16
    parameters:
        target_type: Player
        target: other_entity
        range: 32
        item_force: 1
        entity_force: 1
        cast_on_no_target: true
    costs:
        xp: 100

impervius:
    icon: gold_spade
    category: year7
    class: ConstructSpell
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 32
        check_destructible: true
        destructible: water
        brush: erase
        radius: 3
        transparent: transparent_to_construction
        cast_on_no_target: true
    costs:
        xp: 65

incendio:
    icon: fireball
    category: year5
    class: FireSpell
    pvp_restricted: true
    worth: 50
    effects:
        cast:
        -  class: EffectSingle
           sound: ghast_fireball
           location: both
        -  class: EffectSingle
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: flame
    parameters:
        target_type: LivingEntity
        allow_max_range: false
        range: 32
        radius: 2
        vertical_search_distance: 8
        undo: 1500
        cooldown: 3000
        cast_on_no_target: true
    costs:
        xp: 40

lumos:
    icon: ink_sack:11
    category: year1
    worth: 10
    class: PotionEffectSpell
    effects:
        cast:
        -  class: EffectSingle
           sound: orb_pickup
        -  class: EffectTrail
           particle: red_dust
           particle_data: 2
           particle_count: 3
        -  class: EffectSingle
           location: target
           effectLib:
             class: TraceEntityEffect
             particle: red_dust
    costs:
        xp: 15
    parameters:
        target: any
        range: 32
        target_type: LivingEntity
        duration: 90000
        effect_night_vision: 5

morsmordre:
    icon: skull_item:4
    category: deatheater
    class: CommandSpell
    worth: 20
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_hurt
        -  class: EffectTrail
           particle: flame
        -  class: EffectSingle
           location: target
           firework: creeper
           target_offset: 0,8,0
           color: '00FF00'
           color2: '88FF88'
    parameters:
        target: block
        allow_max_range: true
        range: 8
        cooldown: 10000
        transparent: transparent_to_construction
        commands:
        - say §aMorsmordre!
    costs:
        xp: 55

periculum:
    icon: firework
    category: year2
    class: FireworkSpell
    worth: 2
    effects:
        cast:
        -  class: EffectSingle
           sound: firework_launch
    parameters:
        target_type: LivingEntity
        allow_max_range: true
        range: 16
    costs:
        xp: 30

petrificustotalus:
    icon: nether_brick_item
    category: year4
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 50
    effects:
        cast:
        -  class: EffectSingle
           sound: burp
           location: origin
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: witch_magic
             lenghtGrow: 0.4
        -  class: EffectSingle
           location: target
           effectlib:
             class: SmokeEntityEffect
             iterations: 80
    costs:
        xp: 80
    parameters:
        range: 32
        target_type: LivingEntity
        target: other
        cast_on_no_target: true
        duration: 8000
        effect_slow: 20
        cooldown: 5000

protego:
    icon: ink_sack:12
    category: year2
    class: PotionEffectSpell
    worth: 60
    effects:
        cast:
        -  class: EffectSingle
           sound: irongolem_death
        -  class: EffectSingle
           location: target
           effectlib:
             class: ShieldEntityEffect
             particle: magic_runes
             iterations: 20
             period: 2
    parameters:
        target: self
        duration: 3000
        effect_damage_resistance: 100
        effect_slow: 1
        cooldown: 7000
    costs:
        xp: 50

protegomaxima:
    icon: ink_sack:12
    category: year7
    class: ConstructSpell
    worth: 200
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 64
        max_dimension: 16
        thickness: 1
        target: select
        type: sphere
        transparent: transparent_to_construction
    costs:
        xp: 1000

reducio:
    icon: red_mushroom
    category: year4
    class: ShrinkSpell
    pvp_restricted: true
    worth: 40
    effects:
        cast:
        -  class: EffectSingle
           sound: magmacube_jump
           particle: angry_villager
           effectlib:
             class: ConeLocationEffect
             iterations: 20
    parameters:
        target_type: LivingEntity
        target: other_entity
        allow_max_range: false
        range: 16
        player_damage: 1
        entity_damage: 10
        cast_on_no_target: true
    costs:
        xp: 60

reducto:
    icon: iron_spade
    category: year6
    class: ConstructSpell
    worth: 12
    effects:
        cast:
        -  class: EffectSingle
           sound: explode
        -  class: EffectTrail
           particle: large_explosion
    parameters:
        allow_max_range: false
        range: 16
        speed: 1.0
        falling: true
        brush: air
        radius: 2
        type: sphere
        destructible: destructible_mining
        check_destructible: false
        undo: 4000
    costs:
        xp: 80

salviohexia:
    icon: diamond_pickaxe
    category: staff
    class: ConstructSpell
    worth: 2000
    effects:
        cast:
        -  class: EffectSingle
           sound: piston_retract
        -  class: EffectTrail
           effect: ender_signal
    parameters:
        allow_max_range: false
        range: 32
        max_dimension: 32
        target: select
        type: cuboid
        transparent: transparent_to_construction
        brush: clone
        check_destructible: false
        brushmod: erase
        otworld: ~_backup
        obworld: ~-_backup
        brushtarget: true
        bypass_undo: true
    costs:
        xp: 1000

reparifarge:
    icon: book_and_quill
    category: year4
    class: UndoSpell
    worth: 80
    effects:
        cast:
        -  class: EffectSingle
           sound: anvil_break
    parameters:
        target: self
    costs:
        xp: 45

reparo:
    icon: iron_pickaxe
    category: year7
    class: ConstructSpell
    worth: 100
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: ender_signal
    parameters:
        target: block
        allow_max_range: false
        range: 32
        radius: 4
        type: sphere
        check_destructible: false
        transparent: transparent_to_construction
        brush: clone
        brushmod: erase
        otworld: ~-_backup
        obworld: ~_backup
        brushtarget: true
    costs:
        xp: 80

reparomaxima:
    icon: iron_pickaxe
    category: staff
    class: ConstructSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: ender_signal
    parameters:
        target: select
        allow_max_range: false
        max_dimension: 32
        range: 32
        type: sphere
        check_destructible: false
        transparent: transparent_to_construction
        brush: clone
        brushmod: erase
        otworld: ~-_backup
        obworld: ~_backup
        brushtarget: true
    costs:
        xp: 500

sectumsempra:
    icon: slime_ball
    category: year2
    pvp_restricted: true
    class: PotionEffectSpell
    worth: 25
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_hurt
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: lava_dripping
        -  class: EffectTrail
           particle: lava_dripping
           particle_data: 1
        -  class: EffectSingle
           location: target
           particle: lava_dripping
           effectlib:
             class: BleedEntityEffect
             duration: 150
    parameters:
        target_type: LivingEntity
        allow_max_range: false
        range: 8
        fov: 0.8
        target: other_entity
        cast_on_no_target: true
        duration: 1000
        effect_wither: 1
        damage: 6
        cooldown: 8000
    costs:
        xp: 35

silencio:
    icon: ink_sack:3
    category: year3
    class: PotionEffectSpell
    worth: 70
    effects:
        cast:
        -  class: EffectSingle
           sound: cat_purr
        -  class: EffectSingle
           location: target
           effectlib:
             class: ShieldEntityEffect
             particle: angry_villager
             iterations: 200
             particles: 1
    parameters:
        target_type: LivingEntity
        target: other
        deactivate_target_mage: true
        allow_max_range: false
        range: 16
        duration: 10000
        effect_confusion: 100
        cooldown: 20000
    costs:
        xp: 40

silenciomaxima:
    icon: ink_sack:3
    category: staff
    class: CommandSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: 0.4
           sound_pitch: 0.1
           location: origin
           effectlib:
             class: DnaLocationEffect
    parameters:
        commands:
        - mute @t 30
        target_type: Player
        target: other
        range: 16
    costs:
        xp: 100

jail:
    icon: iron_fence
    category: staff
    class: CommandSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_spawn
           sound_volume: 0.4
           sound_pitch: 0.1
           location: origin
           effectlib:
             class: DnaLocationEffect
    parameters:
        commands:
        - warp prison @t
        target_type: Player
        target: other
        range: 16
    costs:
        xp: 800

silenciototalus:
    icon: ink_sack:3
    category: staff
    class: CommandSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: 0.4
           sound_pitch: 0.1
           location: origin
           effectlib:
             class: AtomLocationEffect
             particleNucleus: witch_magic
             particleOrbital: magic_critical
             iterations: 20
    parameters:
        commands:
        - mute @a 10
        - say §dSILENCIO TOTALUS!
        target: none
    costs:
        xp: 100

stupefy:
    icon: ink_sack:4
    category: year1
    class: PotionEffectSpell
    pvp_restricted: true
    worth: 40
    effects:
        cast:
        -  class: EffectSingle
           sound: shoot_arrow
           sound_volume: 5.0
           location: origin
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: instant_spell
             lenghtGrow: 0.4
        -  class: EffectSingle
           target_offset: 0,1.5,0
           location: target
           color: 0000FF
           firework: ball
    parameters:
        range: 35
        fov: 0.11
        target_type: LivingEntity
        cast_on_no_target: true
        duration: 3000
        damage: 4.5
        effect_confusion: 22
        cooldown: 750
    costs:
        xp: 50

colorvaria:
    icon: ink_sack
    category: year5
    class: AlterSpell
    worth: 8
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           particle: block_breaking
    parameters:
        target_type: Entity
        allow_max_range: false
        range: 16
        depth: 8
        transparent: transparent_to_construction
        undo: 5000
    costs:
        xp: 55

day:
    icon: golden_apple
    category: year7
    class: TorchSpell
    worth: 120
    effects:
        cast:
        -  class: EffectSingle
           sound: wither_spawn
           effectlib:
             class: HelixLocationEffect
             iterations: 24
             particle: magic_runes
    parameters:
        allow_max_range: false
        allow_night: false
        allow_day: true
        allow_glowstone: false
        cooldown: 5000
        time: day
        weather: clear
    costs:
        xp: 100

nox:
    icon: ink_sack:0
    category: year7
    class: TorchSpell
    worth: 130
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
           effectlib:
             class: HelixLocationEffect
             iterations: 24
             particle: large_smoke
    parameters:
        allow_max_range: false
        allow_night: false
        allow_day: true
        allow_glowstone: false
        cooldown: 5000
        time: night
    costs:
        xp: 100

# These are currently what I would classify as admin-only utility spells
# But could be added in some form as canon spells eventually.

phase:
    icon: ender_portal
    category: staff
    class: PhaseSpell
    worth: 10
    effects:
        cast:
        -  class: EffectSingle
           sound: portal_travel
           location: both
           effectlib:
             class: WarpEntityEffect
             particle: portal
    parameters:
        cooldown: 2000
        worlds:
            Hogwarts:
               target: Hogwarts_muggle
               scale: 1
            Hogwarts_muggle:
               target: Hogwarts
               scale: 1
    costs:
        xp: 50

superblob:
    icon: snow_ball
    category: staff
    class: ConstructSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        check_destructible: false
        range: 32
        max_dimension: 32
        target: select
        type: sphere
        transparent: transparent_to_construction
    costs:
        xp: 500

superconvert:
    icon: magma_cream
    category: staff
    class: ConstructSpell
    worth: 500
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 32
        check_destructible: false
        max_dimension: 32
        indestructible: air
        target: select
        type: sphere
        replace: true
        transparent: transparent_to_construction
    costs:
        xp: 300

recall:
    icon: redstone
    category: specialty
    class: RecallSpell
    worth: 25
    effects:
        cast:
        -  class: EffectSingle
           sound: portal_travel
           location: both
           effectlib:
             class: WarpEntityEffect
             particle: portal
    parameters:
        allow_spawn: true
        allow_marker: true
        allow_death: true
        allow_wand: true
        allow_home: true
        allow_cross_world: true
        allow_warps: dueling,quiddichtraining,greathall,diagonalley,4privet,trainstation,arachnids,deatheaters
    costs:
        xp: 50

gather:
    icon: glowstone_dust
    category: staff
    class: GotoSpell
    worth: 150
    effects:
        cast:
        -  class: EffectSingle
           sound: enderman_idle
        -  class: EffectTrail
           particle: portal
        -  class: EffectSingle
           location: both
           effectlib:
             class: WarpEntityEffect
             particle: portal
             iterations: 20
    parameters:
        target_type: LivingEntity
        allow_max_range: false
        range: 64
    costs:
        xp: 150

stash:
    icon: ender_chest
    category: staff
    class: StashSpell
    worth: 20
    effects:
        cast:
        -  class: EffectSingle
           sound: enderman_hit
        -  class: EffectTrail
           effect: step_sound
    parameters:
        target: self
    costs:
        xp: 50

absorb:
    icon: bucket
    category: staff
    class: AbsorbSpell
    worth: 1500
    effects:
        cast:
        -  class: EffectSingle
           sound: drink
        -  class: EffectTrail
           effect: step_sound
           reverse: true
    parameters:
        allow_max_range: false
        range: 64
        transparent: transparent_to_construction
    costs:
        xp: 30

fill:
    icon: diamond_spade
    category: staff
    class: FillSpell
    worth: 200
    effects:
        cast:
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        target: select
        range: 64
        max_dimension: 64
        check_destructible: false
        transparent: transparent_to_construction
    costs:
        xp: 100

superdisc:
    icon: egg
    category: staff
    class: ConstructSpell
    worth: 150
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 64
        max_dimension: 16
        target: select
        type: sphere
        orient_dimension_max: 0
        orient_dimension_min: 0
        transparent: transparent_to_construction
    costs:
        xp: 150

superring:
    icon: clay_ball
    category: staff
    class: ConstructSpell
    worth: 100
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 64
        max_dimension: 16
        target: select
        type: sphere
        orient_dimension_max: 0
        orient_dimension_min: 0
        thickness: 1
        transparent: transparent_to_construction
    costs:
        xp: 100

superdome:
    icon: mushroom_soup
    category: staff
    class: ConstructSpell
    worth: 150
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 64
        max_dimension: 16
        thickness: 1
        target: select
        type: sphere
        orient_dimension_min: 0
        transparent: transparent_to_construction
    costs:
        xp: 150

bridge:
    icon: stone_axe
    category: staff
    class: BridgeSpell
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           effect: step_sound
           location: target
    parameters:
        transparent: transparent_to_construction
    costs:
        xp: 5
pillar:
    icon: iron_axe
    category: staff
    class: PillarSpell
    worth: 30
    effects:
        cast:
        -  class: EffectSingle
           effect: step_sound
           location: target
    parameters:
        allow_max_range: false
        range: 64
        transparent: transparent_to_construction
    costs:
        xp: 5
place:
    icon: diamond_axe
    category: staff
    class: PlaceSpell
    worth: 40
    effects:
        cast:
        -  class: EffectSingle
           effect: step_sound
           location: target
    parameters:
        allow_max_range: false
        range: 64
        transparent: transparent_to_construction
    costs:
        xp: 10

superfly:
    icon: feather
    category: specialty
    class: LevitateSpell
    worth: 10000
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
        cost_free:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_pitch: 0.2
    parameters:
        speed: 1

vault:
    icon: sapling:4
    category: staff
    class: ConstructSpell
    worth: 350
    effects:
        cast:
        -  class: EffectSingle
           sound: anvil_use
        -  class: EffectTrail
           effect: step_sound
    parameters:
        target_type: Player
        target: any_entity
        allow_max_range: false
        check_destructibe: true
        range: 16
        radius: 16
        max_dimension: 32
        obz: -10
        oby: -6
        type: sphere
        cooldown: 1200000
        brush: schematic|vault
        transparent: transparent_to_construction
        signs:
          $name: $target
          $vault: [Vault]
          $lock: [Lock]

revelio:
    icon: ender_portal
    category: staff
    class: PhaseSpell
    worth: 100
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
           location: both
        -  class: EffectSingle
           location: both
           effectlib:
             class: WarpEntityEffect
             particle: portal
    parameters:
        cooldown: 2000
    costs:
        xp: 500
    parameters:
      worlds:
          world:
             target: Hogwarts
             scale: 1
          world_other:
             target: Hogwarts
             scale: 1
          Hogwarts:
             target: MuggleWorld
             scale: 1
          MuggleWorld:
            target: Hogwarts

wolfhouse:
    icon: sapling:5
    category: staff
    class: ConstructSpell
    worth: 2000
    effects:
        cast:
        -  class: EffectSingle
           sound: ambience_cave
        -  class: EffectTrail
           effect: step_sound
    parameters:
        target_type: LivingEntity
        target: any
        allow_max_range: false
        check_destructible: false
        range: 16
        radius: 4
        type: sphere
        cooldown: 600000
        brush: schematic|wolfhouse
        obx: -3
        oby: -22 
        obz: 10
        otx: 1
        oty: 1
        mm: erase 
        transparent: transparent_to_construction
        commands:
          wolf_generate: castp @p[r=7] wolfhouse type sphere cd true md 150 tx ~-6 ty ~22 tz ~11 obx 0 oby -46 obz -1 r 52 brushmod dirt
          wolf_underwater: castp @p[r=7] wolfhouse type sphere cd true md 150 tx ~-5 ty ~23 tz ~11 obx 0 oby -46 obz -1 r 52 id water,stationary_water
          wolf_dome: castp @p[r=7] shell type sphere brush stained_glass:15 cd true md 100 tx ~-5 ty ~16 tz ~12 r 35
          wolf_shields: castp @p[r=7] shell brush obsidian cd true md 100 tx ~-5 ty ~16 tz ~12 r 37
          wolf_undo: castp @p[r=6] undo
          wolf_commit: castp @p[r=6] commit
          wolf_nothing: msg @p[r=6] Nothing here!
          wolf_clear: castp @p[r=7] blob type sphere brush erase cd true md 100 tx ~-5 ty ~15 tz ~12 r 36
          wolf_destruct: castp @p[r=7] blob brush erase cd false type sphere md 130 tx ~-5 ty ~24 tz ~11 r 60
          wolf_convert: castp @p convert radius 64 md 128 ty ~-1 obx -1 obz 2 brush copy
          wolf_phase: castp @p[r=2] phase
          wolf_tp_living: tp @p[r=4] ~7 ~15 ~-13
          wolf_tp_observation: tp @p[r=3] ~-17 ~62 ~0
          wolf_tp_hub: tp @p[r=4] ~-3 ~-2 ~24
          wolf_tp_booth: tp @p[r=4] ~8.5 ~2 ~-28.5
          wolf_tp_enchanting: tp @p[r=3] ~-5 ~35 ~-17
          wolf_recall_wand: castp @p[r=2] recall type wand
          wolf_recall_death: castp @p[r=2] recall type death
          wolf_recall_spawn: castp @p[r=2] recall type spawn
    costs:
        xp: 1000

mount:
    icon: saddle
    category: staff
    class: MountSpell
    worth: 40
    effects:
        cast:
        -  class: EffectSingle
           sound: irongolem_hit
        -  class: EffectSingle
           effectlib:
             class: ConeLocationEffect
             iterations: 20
             particle: slime
    parameters:
        target_type: Entity
        allow_max_range: false
        range: 16
    costs:
        xp: 60