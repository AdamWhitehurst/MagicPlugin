#
# Modify this file to change the available spells.
# New spells can be added, existing spells modified or removed (disabled)
#

#
# This is the Spell configuration file for the Magic plugin.
#
# Here you may alter default spell behavior, or add and remove spells.
#
# See https://github.com/elBukkit/MagicPlugin/blob/master/SPELLS.md for more information.
#
# To see the default spells and configurations, look in defaults/spells.defaults.yml
# 
# The name, description, and usage of a spell should be defined in messages.yml as
#  messages.spells.<spellkey>.name
#  messages.spells.<spellkey>.description
#  messages.spells.<spellkey>.usage
#  messages.spells.<spellkey>.cast
#  ... etc.
#
# General format:
#
# <spellkey>:
#       icon:  <material name>
#       category: <anything>
#       class: <Must be a class from the spells package.>
#       costs:
#           xp: <xp/mana amount>
#           <material_name>: <reagent amount>#      
#       parameters:
#           <specific spell parameters- TODO: list common ones>
#

phase:
   parameters:
      worlds:
          world:
             target: world_other
             scale: 1
          world_other:
             target: world
             scale: 1
          world_nether:
             target: world
             scale: 8
          world_the_end:
             target: world
             scale: 1
          world_backup:
             target: world
             scale: 1
          world_other_backup:
             target: world_other
             scale: 1
          world_nether_backup:
             target: world_nether
             scale: 1
          world_the_end_backup:
             target: world_the_end
             scale: 1

recall:
  parameters:
    commands:
      hub:
        name: elMakers Hub
        description: Return to the Hub
        icon: nether_star
        command: mserver hub
        op: true
    warps:
      falcon:
        name: Milennium Falcon
        description: Testing cross-server warps
        server: stars
        locked: true
        icon: compass
      town:
        name: The Capitol
        description: The only town we know of
        locked: true
        icon: compass
      lodge:
        name: Old Town
        description: The old city of yore
        locked: true
        icon: compass
      battle:
        name: Battle School
        description: Buy your way to power
        locked: true
        icon: diamond_sword
      engineer:
        name: Engineering School
        description: Buy your way to glory
        locked: true
        icon: gold_axe
      other:
        name: The Fallen Capital
        description: Danger Lurks
        locked: true
        icon: eye_of_ender
      bastion:
        name: The Bastion
        description: The last refuge
        locked: true
        icon: ender_pearl
      black:
        name: The Black Temple
        description: The original spawn!
        locked: true
        icon: obsidian
      white:
        name: The White Temple
        description: Spawn#2
        locked: true
        icon: quartz_block
      blue:
        name: The Blue Temple
        description: Spawn#3
        locked: true
        icon: lapis_block
      frozen:
        name: The Frozen Temple
        description: Spawn#4
        locked: true
        icon: packed_ice
      iron:
        name: The Iron Temple
        description: Spawn#5
        locked: true
        icon: iron_block
      redwood:
        name: The Burning Temple
        description: The Lost Spawn
        locked: true
        icon: log
      gold:
        name: The Gold Temple
        description: The spawn of Heroes
        locked: true
        icon: gold_block
      hall:
        name: The Hall of Heroes
        description: Our most (in)famous players
        locked: true
        icon: emerald
      brick:
        name: The Brick Temple
        description: Spawn#6
        locked: true
        icon: brick
      seaside:
        name: Seaside
        description: A quaint little town
        locked: true
        icon: boat
      wolfcastle:
        name: Wolf Castle
        description: The castle of wolves
        locked: true
        icon: stone
      dueling:
        name: Dueling Arena
        description: Wizard Duels!
        locked: true
        icon: wood_hoe
      spleef:
        name: Spleef Arena
        description: Wizard Spleef!
        locked: true
        icon: wood_hoe
      refugee:
        name: Refugee Camp
        description: OP Dueling!
        locked: true
        icon: wood_hoe
      endtemple:
        name: The End Temple
        description: A little shortcut
        locked: true
        icon: ender_stone
      atlantis:
        name: Grim's Atlantis
        description: Evil Underwater
        locked: true
        icon: skull_item

othershop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:2
        spells:
          phase: 500
          blink: 200
          laser: 1000
          breach: 800
          grenade: 700
          disintegrate: 600

blinkshop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:2
        spells:
          blink: 200
          phase: 500

madscienceshop:
    icon: ender_pearl
    category: utility
    hidden: true
    actions:
        cast:
        -  class: SpellShop
    parameters:
        loud: true
        auto_upgrade: true
        confirm_filler: stained_glass:15
        spells:
          emp: 500
          superemp: 4000
          glider: 5000

cleanup:
    icon_url: http://textures.minecraft.net/texture/ce6ed0a5f7e23bc3d34d73baa0b9c3f838e85014d2ff290801dc7486dd4da6
    icon: iron_spade
    category: engineering
    class: ConstructSpell
    worth: 2500
    effects:
        cast:
        -  class: EffectSingle
           sound: level_up
        -  class: EffectTrail
           effect: step_sound
    parameters:
        allow_max_range: false
        range: 32
        check_destructible: true
        destructible: cleanup
        radius: 32
        replace: true
        transparent: transparent_to_construction
        cooldown: 2000
    costs:
        mana: 100

beaconshop:
    icon: beacon
    category: specialty
    hidden: true
    actions:
        cast:
        -  class: ItemShop
    parameters:
        loud: true
        confirm: true
        use_xp: true
        confirm_filler: stained_glass:5
        items:
          beacon: 1200

## In testing

wave:
    icon_url: http://textures.minecraft.net/texture/912c6ba1e1756d2d8ffb0f72af0c46d2da3596168d3ad0d513ce25c92572
    icon: feather
    category: elemental
    pvp_restricted: true
    worth: 4000
    actions:
        cast:
        -  class: Line
           actions:
           - class: Volume
             actions:
             - class: ModifyBlock
           - class: Delay
    effects:
        cast:
        -  class: EffectSingle
           sound: fizz
           sound_volume: 1
           sound_pitch: 0.2
           location: origin
    parameters:
        target: block
        target_type: Entity
        x_size: 0
        y_size: 0
        z_size: 2
        size: 8
        range: 10
        allow_max_range: true
        orient: true
        target_count: 16
        item_speed: 0.1
        living_entity_speed: 0.2
        push: -1
        direction: 0,1,0
        speed: 0.2
        cooldown: 3000
        delay: 250
        brush: stained_clay
        falling: false
        undo: 15000
    costs:
        mana: 150

smash:
    icon: feather
    icon_url: http://textures.minecraft.net/texture/7cc2fb583d1762a16a50fa5ac37bc09b46def63e68205116d650391f9233ed
    category: combat
    worth: 1000
    pvp_restricted: true
    actions:
        cast:
        - class: FallProtection
        - class: Repeat
          actions:
          - class: Velocity
          - class: Delay
        - class: Repeat
          repeat: 5
          actions:
          - class: Velocity
            direction: 0,-1,0
          - class: Delay
            delay: 400
        -  class: ChangeContext
           target_caster: true
           actions:
           - class: Sphere
             actions:
             -  class: ModifyBlock
    effects:
        cast:
        -  class: EffectSingle
           sound: enderdragon_wings
           sound_volume: 1
           effectlib:
             class: TraceEffect
             iterations: 30
             particle: spell
        land:
        -  class: EffectRing
           particle: spell
           period: 2
    parameters:
        duration: 240000
        target: self
        min_speed: 5
        max_speed: 5
        delay: 500
        falling: true
        speed: 0.9
        brush: air
        radius: 5
        undo: 15000
        cooldown: 30000
        check_destructible: false
        direction: 0,1,0
        repeat: 5
    costs:
        mana: 60

shuriken:
    name: Shuriken
    description: Throw a damaging star
    icon: double_plant:5
    icon_url: http://textures.minecraft.net/texture/775c41bd5e4ef3cba5f9bdc5258973c95477e819cb20c163ffb378db5ae3
    category: master
    worth: 2000
    actions:
        cast:
        -  class: Projectile
           actions:
           -  class: AreaOfEffect
              actions:
              - class: Explosion
              - class: AreaOfEffect
                actions:
                - class: Damage
        -  class: Repeat
           actions:
           - class: Delay
           - class: AreaOfEffect
             actions:
             - class: Damage
    effects:
        projectile:
        -  class: EffectSingle
           location: origin
           sound: villager_yes
           effectlib:
             class: HelixEffect
             iterations: 8
             period: 2
             radius: 0.2
             strands: 3
             particles: 10
             particle: redstone
        hit:
        -  class: EffectSingle
           sound: villager_yes
           location: origin
           effectlib:
             class: HelixEffect
             particle: redstone
             radius: 8
    parameters:
        set_target: true
        projectile: Arrow
        duration: 10000
        cooldown: 30000
        damage: 100
        repeat: 5
        delay: 1
        size: 4
        speed: 3
        radius: 3
    costs:
        mana: 200

napalm:
    icon_url: http://textures.minecraft.net/texture/1eed1e4d70522ccd538b75ded4baa680e3dfe55426c560ff7b521be5cdf614f
    icon: poisonous_potato
    category: master
    worth: 7500
    upgrade_required_path: master
    actions:
        cast:
        - class: Projectile
          actions:
          - class: Delay
          - class: AreaOfEffect
            actions:
            - class: Damage
          - class: Disc
            actions:
            - class: Cover
              actions:
              - class: Skip
                actions:
                - class: Delay
                  delay: 5
              - class: Burn
    effects:
        cast:
        -  class: EffectSingle
           sound: creeper_hiss
        hit:
        -  class: EffectSingle
           location: source
           effectlib:
             class: HelixEffect
             particle: flame
             iterations: 1
    parameters:
        target: none
        target_type: LivingEntity
        projectile: LargeFireball
        fire: true
        delay: 3000
        player_damage: 20
        entity_damage: 40
        radius: 16
        cooldown: 120000
        skip: 8
    costs:
        mana: 555


rainbow:
    parameters:
       undo: 10000
    costs:
       mana: 30